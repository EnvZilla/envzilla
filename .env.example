NODE_ENV=development
LOG_LEVEL=info
TRUST_PROXY=true
PORT=3000
HOST=localhost
CORS_ORIGIN=http://localhost:3000
RATE_LIMIT_MAX=100

# GitHub Configuration
GITHUB_WEBHOOK_SECRET=your-webhook-secret-here
GITHUB_PRIVATE_KEY_PATH=./keys/your-private-key.pem
GITHUB_APP_ID=your-github-app-id
GITHUB_TOKEN=your-github-token-here
EPHEMERAL_GITHUB_TOKEN=
REPO_FULL_NAME=owner/repo

# Redis Configuration (for Job Queue and Deployment Tracking)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Job Queue Configuration
JOB_CONCURRENCY=3

# Docker Configuration (Windows specific)
# DOCKER_SOCKET_PATH=//./pipe/docker_engine

# Container & Service Health Check Configuration
CONTAINER_HEALTH_TIMEOUT_MS=30000

# Service Readiness Configuration (NEW - fixes tunnel timing issue)
# These settings ensure the service is ready before starting the tunnel
SERVICE_READY_ATTEMPTS=15
SERVICE_READY_DELAY_MS=2000
SERVICE_READY_REQUEST_TIMEOUT_MS=5000

# Tunnel Verification Configuration (SMART - improved tunnel connectivity checks)
# Phase 1: Quick checks for immediate availability
PREVIEW_URL_QUICK_ATTEMPTS=2
PREVIEW_URL_QUICK_DELAY_MS=500

# Phase 2: Extended checks with exponential backoff for DNS propagation
PREVIEW_URL_EXTENDED_ATTEMPTS=5
PREVIEW_URL_BASE_DELAY_MS=2000
PREVIEW_URL_MAX_DELAY_MS=12000
PREVIEW_URL_REQUEST_TIMEOUT_MS=8000

# Enhanced Cloudflare Tunnel Configuration
CLOUDFLARED_TUNNEL_NAME=envzilla
CLOUDFLARED_PROTOCOL=http2
CLOUDFLARED_STARTUP_TIMEOUT_MS=90000

# Enhanced Tunnel Verification
TUNNEL_VERIFICATION_ATTEMPTS=15
TUNNEL_VERIFICATION_BASE_DELAY=3000

# DNS & Propagation Settings
CUSTOM_DOMAIN=your-domain.com
DNS_PROPAGATION_WARNING_THRESHOLD=30000

# Performance Settings
DOCKER_API_TIMEOUT=10000
PORT_MAPPING_CACHE_TTL=30000

# Cloudflare Tunnel Credentials (create with: cloudflared tunnel create envzilla)
# CLOUDFLARED_CREDENTIALS_PATH=./keys/tunnel-credentials.json

# Ngrok Configuration (optional alternative to Cloudflare)
# NGROK_AUTH_TOKEN=your-ngrok-auth-token
